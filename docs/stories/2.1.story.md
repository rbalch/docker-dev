# Story 2.1: Integrate ADK Library and "Hello Agent" Sample

**Status:** Approved

**Story**
**As a** developer,
**I want** the Google ADK library installed in my dev environment and a runnable "hello world" agent provided,
**so that** I can immediately start experimenting with the ADK's core functionality.

**Acceptance Criteria**
1. The required pip packages (`google-adk`, `litellm`, `google-generativeai`) are included in the `dev` container's dependencies.
2. A new directory `template/adk/agents` is created containing a runnable "hello world" agent.
3. `Makefile` commands are available to execute the sample agent in its three primary modes (run, web, api_server).

**Tasks / Subtasks**
- [ ] **Task 1: Verify Container Dependencies (AC: 1)**
  - [ ] Inspect the `template/dev/pyproject.toml` file to ensure the correct dependencies are listed. [Source: docs/architecture/3-tech-stack.md]
  - [ ] Verify `google-adk` is listed under `[tool.poetry.group.dev.dependencies]`.
  - [ ] Verify `litellm` and `google-generativeai` are listed under `[tool.poetry.dependencies]`.
- [ ] **Task 2: Create Sample Agent (AC: 2)**
  - [ ] Run `adk create --type=config template/adk/agents/hello_agent` to generate the basic agent structure.
  - [ ] Populate the generated `template/adk/agents/hello_agent/root_agent.yaml` with a basic "hello world" configuration.
  - [ ] Populate the generated `template/adk/agents/hello_agent/.env` file with placeholder values for any required API keys.
- [ ] **Task 3: Add Makefile Commands (AC: 3)**
  - [ ] Modify the `Makefile.template` to add three new targets:
    - `run-hello-agent-cli`: Executes the agent in the terminal. Command: `poetry run adk run template/adk/agents/hello_agent`
    - `run-hello-agent-web`: Runs the web UI for the agent. Command: `poetry run adk web template/adk/agents/hello_agent`
    - `run-hello-agent-api`: Serves the agent as an API. Command: `poetry run adk api_server template/adk/agents/hello_agent`

**Dev Notes**
This story is part of **Epic 2: Foundational ADK Integration & Deployment**.

- **Previous Story Insights**: No specific guidance from previous stories is relevant here.
- **Data Models**: No specific data models are required for this story. [Source: docs/architecture/4-data-models-revised.md]
- **API Specifications**: Not applicable. This work is confined to the local development environment. [Source: docs/architecture/5-api-specification.md]
- **File Locations**:
  - New agent code must be placed in `template/adk/agents/hello_agent.py`.
  - Dependencies must be verified in `template/dev/pyproject.toml`.
  - The new Makefile command goes in `template/Makefile.template`.
  - [Source: docs/architecture/12-unified-project-structure.md]
- **Technical Constraints**:
  - The agent must be written in Python 3.11+. [Source: docs/architecture/3-tech-stack.md]
  - All Python code must include type hints and Google-style docstrings. [Source: docs/architecture/17-coding-standards-revised.md]
  - **Required Python Packages**:
    - `litellm` (Production dependency for serving models)
    - `google-generativeai` (Production dependency for extra features)
    - `google-adk` (Development dependency)
  - **ADK Run Modes**: The sample agent must be runnable via the `adk` CLI in three modes:
    - `adk run`: Terminal interface.
    - `adk web`: Web UI.
    - `adk api_server`: Service API.

**Testing**
- Formal automated tests for this functionality will be implemented in a future story when this ADK agent is integrated into the main CLI application.
- Manual verification of the `make` commands is sufficient to meet the acceptance criteria for this story.

**Change Log**
| Date | Version | Description | Author |
|---|---|---|---|
| 2025-09-11 | 1.0 | Initial draft | Bob (SM) |
| 2025-09-11 | 1.1 | Enhanced with specific model-serving dependencies. | Bob (SM) |
| 2025-09-11 | 1.2 | Added multiple run modes for ADK agent. | Bob (SM) |
| 2025-09-11 | 1.3 | Corrected file paths to use `template/` directory. | Bob (SM) |
| 2025-09-11 | 1.4 | Rephrased user story for clarity and style. | Bob (SM) |


# Story 3.1: Access Automated Context Generation Tool

## Status

Draft

## Story

**As a** developer,
**I want** a `gemini-cli` command inside the dev container to automatically scan my application code,
**so that** I can generate baseline documentation and context for the AI agents.

## Acceptance Criteria

1.  A clear `gemini-cli` command (e.g., `gemini context generate`) is available in the `dev` container's PATH.
2.  For brownfield projects, running the command successfully scans the code in the user's application directory (`/app`).
3.  The tool generates initial drafts of key documents (e.g., `architecture.md`, `glossary.md`) in the `docs/` directory.
4.  The command provides clear feedback on which files were scanned and which documents were created or updated.

## Tasks / Subtasks

-   [ ] **Task 1 (AC: 1, 2, 3, 4):** Create an end-to-end test to verify the context generation command.
    -   [ ] Subtask 1.1: Create a new test file `tests/e2e/context-generation.bats`.
    -   [ ] Subtask 1.2: The test should set up a dummy brownfield project with some source files.
    -   [ ] Subtask 1.3: The test should run the `gemini context generate` command (or the correct equivalent) inside the `dev` container.
    -   [ ] Subtask 1.4: The test should verify that the documentation files are created in the `docs/` directory and that they contain some content.

## Dev Notes

The `gemini-cli` is already installed in the `dev` container. [Source: `docs/architecture/3-tech-stack.md`, `dev/Dockerfile`]

The exact `gemini-cli` command for context generation needs to be confirmed. The dev agent should research the `gemini-cli` documentation to find the correct command and parameters. The story assumes a command like `gemini context generate`.

The generated documents should be placed in the `docs/` directory. [Source: `docs/architecture/12-unified-project-structure.md`]

For brownfield projects, the tool should be pointed to the `/app` directory inside the container.

### Testing

An end-to-end test should be created at `tests/e2e/context-generation.bats` to validate the command. [Source: `docs/architecture/16-testing-strategy.md`]

## Change Log

| Date       | Version | Description   | Author   |
| :--------- | :------ | :------------ | :------- |
| 2025-09-02 | 1.0     | Initial draft | Bob (SM) |

## Dev Agent Record

*(This section is to be filled out by the Dev Agent during implementation.)*

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results

*(This section is to be filled out by the QA Agent during review.)*
